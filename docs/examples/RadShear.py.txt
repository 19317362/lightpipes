import LightPipes
import matplotlib.pyplot as plt

m=1
nm=1e-9*m
um=1e-6*m
mm=1e-3*m
cm=1e-2*m
pi=3.1415

try:
	LP=LightPipes.Init()
	wavelength=500*nm
	size=4.0*cm
	N=200
	R=1*cm
	nz=6
	mz=6

	F=LP.Begin(size,wavelength,N)
	F=LP.Zernike(nz,mz,R,wavelength/(2*pi),F)
	F=LP.CircAperture(R,0,0,F)
	F1=LP.IntAttenuator(0.5,F)
	F2=LP.IntAttenuator(0.5,F)
	F1=LP.Interpol(size,N,0,0,0,1.3,F1)
	F=LP.BeamMix(F1,F2)
	I=LP.Intensity(2,F)
	plt.imshow(I)
	plt.show()
finally:
	del LightPipes
